<html>
  <head><meta name="generator" content="Hexo 3.8.0">
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport">
  
    <link rel="icon" href="/images/logo.jpg">
  
  <title>Ness</title>
  <link rel="stylesheet" href="/css/styles.css">
  <script src="/lib/jquery.js"></script>
  <link rel="stylesheet" href="/lib/bootstrap/css/bootstrap.min.css">
  <script src="/js/common.js"></script>
  <script src="/lib/bootstrap/js/bootstrap.js"></script>
  <link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css"><!-- hexo-inject:begin --><!-- hexo-inject:end -->
</head>

  <body>
    <!-- hexo-inject:begin --><!-- hexo-inject:end --><header class="header">
  <div class="color-bar">
    <ul>
      <li class="bar1"></li>
      <li class="bar2"></li>
      <li class="bar3"></li>
      <li class="bar4"></li>
      <li class="bar5"></li>
      <li class="bar6"></li>
    </ul>
  </div>
  <div class="header-wrapper">
    <div class="blog-title">
      
        <img class="logo" src="/images/logo.jpg" alt="logo">
      
      <a href="/" class="title">Ness</a>
    </div>
    <nav class="navbar navbar-menu">
      <div class="container-fluid">
        <div class="navbar-header">
          <button type="button" id="nav-btn" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
        </div>
      </div>
        <ul class="menu menu-pc">
          
            <li class="menu-item">
              <a href="/" class="menu-item-link"><i class="fa fa-home"></i><span>首页</span></a>
            </li>
          
            <li class="menu-item">
              <a href="/tags/" class="menu-item-link"><i class="fa fa-tags"></i><span>标签</span></a>
            </li>
          
            <li class="menu-item">
              <a href="/archives/" class="menu-item-link"><i class="fa fa-file"></i><span>归档</span></a>
            </li>
          
            <li class="menu-item">
              <a href="https://github.com/NessOffice" class="menu-item-link"><i class="fa fa-github"></i><span>GITHUB</span></a>
            </li>
          
        </ul>
    </nav>
  </div>
</header>
<div class="collapse nav-collapse" style="position:fixed;top:59px;" id="bs-example-navbar-collapse-1">
  <ul class="menu menu-mobile" style="list-style:none">
    
      <li class="menu-item">
        <a href="/" class="menu-item-link"><i class="fa fa-home"></i><span>首页</span></a>
      </li>
    
      <li class="menu-item">
        <a href="/tags/" class="menu-item-link"><i class="fa fa-tags"></i><span>标签</span></a>
      </li>
    
      <li class="menu-item">
        <a href="/archives/" class="menu-item-link"><i class="fa fa-file"></i><span>归档</span></a>
      </li>
    
      <li class="menu-item">
        <a href="https://github.com/NessOffice" class="menu-item-link"><i class="fa fa-github"></i><span>GITHUB</span></a>
      </li>
    
  </ul>
</div>

    <main class="main">
      <div class="content">
        
  <article class="post">
    <div class="post-title">
      <h2 class="title">【数学之美】离散数学及其应用：第六章 计数</h2>
	  <div style="margin: 0 10 20px;">
		<span class="post-count">
		  <span class="post-meta-item-icon">
			<i class="fa fa-keyboard-o"></i>
			<span class="post-meta-item-text">  字数统计: </span>
			<span class="post-count">2.1k字</span>
		  </span>
		</span>

		<span class="post-count">
		  &nbsp; | &nbsp;
		  <span class="post-meta-item-icon">
			<i class="fa fa-hourglass-half"></i>
			<span class="post-meta-item-text">  阅读时长: </span>
			<span class="post-count">8分</span>
		  </span>
		</span>
	  </div>
       
        <p>课程笔记</p>
      
    </div>
     <div class="post-meta">
      <span class="post-time">2019-06-22</span>
    </div>
    <div class="post-content">
      <h1 id="计数基础"><a href="#计数基础" class="headerlink" title="计数基础"></a>计数基础</h1><p>加法原理与乘法原理，注意它们和集合的关系（前者：$|\bigcup S| = \sum|S|$，后者：$|\prod S| = \prod |S|$），后者又用到了笛卡儿积，可见笛卡儿积在描述对象间关系中的基石地位。</p>
<p>容斥原理，推广到n元的情况。证明可考虑单个元素在集合中的存在与否。</p>
<p>碱基和分子生物学的联系</p>
<p>解答树（让思维更有层次性）</p>
<h1 id="抽屉原理"><a href="#抽屉原理" class="headerlink" title="抽屉原理"></a>抽屉原理</h1><p>最初的抽屉原理，推广的抽屉原理（公式，正推反推）</p>
<p>抽屉原理与单射的关系</p>
<p>抽屉原理的思想：考虑最坏情况</p>
<h2 id="模型"><a href="#模型" class="headerlink" title="模型"></a>模型</h2><h3 id="朋友问题"><a href="#朋友问题" class="headerlink" title="朋友问题"></a>朋友问题</h3><p>证明：假设这世界上只剩n个人了（$n \geq 2$），那么必存在两个人他们的朋友数目相等。（每个人不能是自己的朋友）</p>
<p>视朋友数为抽屉，人为鸽子，这样看来鸽子数等于抽屉数，抽屉原理没法用了？非也。假设所有人朋友数相同的话，那么每个人的朋友数分别取到0、2、…、n-1，然而0和n-1是有不能同时取到，这样抽屉数就减少了。</p>
<h3 id="二分图-待补充"><a href="#二分图-待补充" class="headerlink" title="二分图[待补充]"></a>二分图[待补充]</h3><p>15-10</p>
<h3 id="球队比赛-待补充"><a href="#球队比赛-待补充" class="headerlink" title="球队比赛[待补充]"></a>球队比赛[待补充]</h3><p>//还不是很理解</p>
<h3 id="除法"><a href="#除法" class="headerlink" title="除法"></a>除法</h3><p>n+1个不超过2n的数中必有一数能够整除另一数。（思路：$k = p \cdot 2^k$）</p>
<h3 id="子列"><a href="#子列" class="headerlink" title="子列"></a>子列</h3><p>证明：$n^2+1$长度的互异实数列中必有长为$n+1$的单调递增子列或是单调递减子列。</p>
<p>嗯这题看上去比较抽象，简单地列一些数据也不能带来什么帮助。用什么代表抽屉和鸽子也都不好确定，如何切入呢？题目中“互异”这是个重要的条件，否则$n^2+1$个数全相等结论就不成立了。试试反证法吧，如果数列中任意单调递增/递减子列长度都小于等于n，会有矛盾吗？</p>
<p>下面的一步就需要一些创造力了。对于该数列，我们令$(f(i), g(i))$为以第i项开端的最长递增/递减子列长度构成的二元组。由之前的假设，数列中任意单调递增/递减子列长度都小于等于n，$(f(i), g(i))$的取值就只有$n^2$种可能，故$\exists i \not = j, (f(i), g(i)) = (f(j), g(j))$。但是呢，$a[i] \not = a[j]$（第i个数不等于第j个数），所以要么$f(i) &gt; f(j)$，要么$g(i) &gt; g(j)$。前面的结论不成立，矛盾！</p>
<h3 id="子列-1"><a href="#子列-1" class="headerlink" title="子列++"></a>子列++</h3><ol>
<li><p>$x_1, x_2, …, x_n$为整数数列，求证$\exists i \not = j, x_i + x_{i+1} + … + x_j \equiv 0 (mod n)$。</p>
<p>考虑模的意义下的前缀和就好啦。</p>
</li>
<li><p>$x_1, x_2, …, x_N, N = 2^n$中，$a_i \in \{ 1, 2, …, n \}$，求证$\exists i \not = j, x_i \cdot x_{i+1} \cdot … \cdot x_j$为完全平方数。</p>
<p>考虑前缀积，令$A_k =  \prod\limits_{i = 1}^k a_i = \prod\limits_{i = 1}^n i^{a_{i_k}}$，考虑在模2的意义下的$a_{i_k}$，这就是抽屉了。</p>
</li>
</ol>
<h3 id="Ramsey问题"><a href="#Ramsey问题" class="headerlink" title="Ramsey问题"></a>Ramsey问题</h3><p>（其实就是图的二染色啦）</p>
<p>证明：任意六个人中，必有三人相互认识，或者相互不认识。</p>
<p>上例表明R(3, 3) = 6。但是当m、n变大时，R(m, n)的值非常难确定。</p>
<h1 id="排列组合与二项式定理"><a href="#排列组合与二项式定理" class="headerlink" title="排列组合与二项式定理"></a>排列组合与二项式定理</h1><p>排列与组和的定义，排列与组和间的转换</p>
<p>技巧：捆绑</p>
<p>组合数和二项式系数的联系</p>
<h2 id="组合证明"><a href="#组合证明" class="headerlink" title="组合证明"></a>组合证明</h2><p>玄学东西，和代数证明相对的。比如，通过“式子本身的意义”能证明$C_n^r = C_n^{n-r}$。</p>
<p>另，通过“式子本身的意义”也能得出$C_n^r$是整数。</p>
<p>二项式定理，由其可以得出一些结论：$\sum C_n^k = 2^n, \sum (-1)^k C_n^k = 0, \sum 2^k C_n^k = 3^n$。</p>
<p>杨辉三角，及其中蕴含的递推关系（它的洋名字是“Pascal’s Identity”）</p>
<p>“杨辉等式”的组合证明：在全集中关注某特定元素，若取到，则为$C_n^{k-1}$，否则为$C_n^k$</p>
<p>Vandermonde等式：$C_{m+n}^r = \sum\limits_{k = 0}^r C_m^k \cdot C_n^{r-k}$（分组的思想，特别地，有$C_{2n}^n = \sum\limits_{k = 1}^n (C_n^k)^2$）</p>
<p>无名定理：$C_{n+1}^{r+1} = \sum\limits_{j = r}^n C_j^r$（证明有两种思路：①排序的思想，确定最大元；②杨辉等式）</p>
<h1 id="排列组合的推广"><a href="#排列组合的推广" class="headerlink" title="排列组合的推广"></a>排列组合的推广</h1><p>可重复元素的排列：$n^r$（模型：r长度字符串的可能个数）</p>
<p>可重复元素的组和：$C_{n+r-1}^r$（模型：取硬币的方法数，证明的思想在于将无序转换为有序，然后一一对应，计算时需要注意r是元素数而n是盒子数）//待补充</p>
<p>$x_1+x_2+x_3=11$这样的模型，既可以用栅栏法，也可以看作是可重复元素的组和。（$x_1$可看作是放数的盒子）</p>
<p>含可重复元素排列的重排数（模型：分发纸牌）</p>
<h2 id="物块放盒子"><a href="#物块放盒子" class="headerlink" title="物块放盒子"></a>物块放盒子</h2><p>放到盒子里，是不需要考虑顺序的，故这是组和问题而非排列问题。</p>
<p>不同的物体放不同的盒子（模型：分发纸牌）：可重复元素排列的重排数</p>
<p>相同的物体放不同的盒子：可重复元素的组和</p>
<p>不同的物体放相同的盒子（模型：四个学生分三组）：无封闭的公式，但可用第二类斯特林公式计算，记$S(n, j) = \dfrac{1}{j!} \sum\limits_{i = 0}^{j-1}(-1)^i C_j^i (j-i)^n$，则所求即$\sum S(n, j)$。</p>
<p>相同的物体放相同的盒子（模式：四本相同的教材分三组）：等价于$\sum a_i = n, a_1 \leq a_2 \leq … \leq a_j$的方法数，无封闭的公式。</p>
<p>需要补充：</p>
<p>Stirling数相关知识</p>
<p>球盒问题特殊情形</p>
<h1 id="生成排列与组和"><a href="#生成排列与组和" class="headerlink" title="生成排列与组和"></a>生成排列与组和</h1><h2 id="字典序"><a href="#字典序" class="headerlink" title="字典序"></a>字典序</h2><p>以排列a[1…n]与b[1…n]为例，前者按字典序比后者小即表明，出现第一个i满足a[i]&lt;b[i]之前，均有j&lt;i且a[j]=b[j]。</p>
<p>以abd与abs为例，容易发现前者的字典序更小。对于1,2,3的全排列，按字典序顺序有:<br><strong>1,2,3 &lt; 1,3,2 &lt; 2,1,3 &lt; 2,3,1 &lt; 3,1,2 &lt; 3,2,1</strong></p>
<p>我们不难发现，枚举1,2,3的字典序我们可以先令首位分别为1,2,3，再枚举后两项的字典序，这一做法是递归的。</p>
<p>从字典序的概念出发，我们可以得到从一个排列出发按字典序生成下一个排列的算法。</p>
<p>以2,4,3,1为例。我们发现末尾中4,3,1是从大到小排列的，没有下一项，故要考虑末位四项，其中3大于2，替换2与3的位置使首位成为3，后面依次递增，得到3,1,2,4</p>
<p>由此我们得到一般的算法框架：</p>
<h2 id="生成排列算法框架"><a href="#生成排列算法框架" class="headerlink" title="生成排列算法框架"></a>生成排列算法框架</h2><ol>
<li>从后往前，找到第一个令a[i]&lt;a[i+1]的i(即其后是逆序的)</li>
<li>在a[i+1…n]中找出最小的a[j]使a[j]&gt;a[i]，交换a[i]与a[j]的位置</li>
<li>令a[i+1…n]呈升序</li>
</ol>
<p>在给出具体的代码前，请读者演算362541的字典序下一项，以加深理解</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//代码引自《离散数学基础（第二版）》，清华大学出版社</span></span><br><span class="line"><span class="comment">//参考习题：洛谷P1088</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">next_permutation</span><span class="params">()</span><span class="comment">//a[1...n]</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i = n<span class="number">-1</span>, j = n;</span><br><span class="line">    <span class="keyword">while</span>(a[i] &gt; a[i+<span class="number">1</span>]) i--;<span class="comment">//part 1</span></span><br><span class="line">    <span class="keyword">while</span>(a[i] &gt; a[j]) j--;<span class="comment">//part 2</span></span><br><span class="line">    swap(a[i], a[j]);</span><br><span class="line">    <span class="keyword">int</span> k = n;i++;<span class="comment">//part 3</span></span><br><span class="line">    <span class="keyword">while</span>(k &gt; i)&#123;swap(a[j], a[i]);k--;i++;&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="组合数生成算法"><a href="#组合数生成算法" class="headerlink" title="组合数生成算法"></a>组合数生成算法</h2><p>这个和二进制对应一下就好了，不必多讲。</p>
<h2 id="r-组和的生成算法"><a href="#r-组和的生成算法" class="headerlink" title="r-组和的生成算法"></a>r-组和的生成算法</h2><p>还是通过例子先感受一下怎么得到“下一个”r-组和吧：{1, 2, 5, 6}的下一个是？（全集为{1, 2, 3, 4, 5, 6}）</p>
<p>5、6都“就位”，处于字典序的最终项了。所以下一项得把2换成3，后面再按字典序的开头来，就得到了{1, 3, 4, 5}。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//the code is from Discrete Mathematics and Its Applications</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">next_combination</span><span class="params">()</span><span class="comment">//a[1...r] is the subset</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i = r;</span><br><span class="line">    <span class="keyword">while</span>(a[i] == n-r+i)</span><br><span class="line">        i--;</span><br><span class="line">    a[i]++;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> j = i+<span class="number">1</span>;j &lt;= r;j++)</span><br><span class="line">        a[j] = a[j<span class="number">-1</span>] + <span class="number">1</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
    </div>
  </article>
  <div class="post-nav">
    <div class="post-nav-next post-nav-item">
      
        <a href="/2019/06/22/Discrete_Mathematics-CH05/" rel="next" title="【数学之美】离散数学及其应用：第五章 递推与递归">
          <i class="fa fa-chevron-left"></i> 【数学之美】离散数学及其应用：第五章 递推与递归
        </a>
      
    </div>

    <span class="post-nav-divider"></span>

    <div class="post-nav-prev post-nav-item">
    
        <a href="/2019/06/22/Discrete_Mathematics-CH08/" rel="prev" title="【数学之美】离散数学及其应用：第八章 计数进阶">
          【数学之美】离散数学及其应用：第八章 计数进阶 <i class="fa fa-chevron-right"></i>
        </a>
      
    </div>
  </div>



      </div>
        <div class="footer">
  <div class="footer-wrapper">
    <div class="copyright">
      
      <span>&copy;</span>
      
      <span>2019</span>
      
      <span class="author"><i class="fa fa-user"></i>Ness</span>
    </div>
    
      <span>由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</span>
    
    
      <span>|</span> <span>主题 - <a href="https://github.com/littleee/corazon">Corazon</a></span>
      
        <span>v1.0.0</span>
      
    
  </div>
</div>

    </main>
  <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [ ["$","$"], ["\\(","\\)"] ],
            skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'],
            processEscapes: true
        }
    });
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax();
        for (var i = 0; i < all.length; ++i)
            all[i].SourceElement().parentNode.className += ' has-jax';
    });
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML"></script><!-- hexo-inject:begin --><!-- hexo-inject:end -->
</body>
</html>
