<html>
  <head><meta name="generator" content="Hexo 3.8.0">
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport">
  
    <link rel="icon" href="/images/logo.jpg">
  
  <title>Ness</title>
  <link rel="stylesheet" href="/css/styles.css">
  <script src="/lib/jquery.js"></script>
  <link rel="stylesheet" href="/lib/bootstrap/css/bootstrap.min.css">
  <script src="/js/common.js"></script>
  <script src="/lib/bootstrap/js/bootstrap.js"></script>
  <link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css"><!-- hexo-inject:begin --><!-- hexo-inject:end -->
</head>

  <body>
    <!-- hexo-inject:begin --><!-- hexo-inject:end --><header class="header">
  <div class="color-bar">
    <ul>
      <li class="bar1"></li>
      <li class="bar2"></li>
      <li class="bar3"></li>
      <li class="bar4"></li>
      <li class="bar5"></li>
      <li class="bar6"></li>
    </ul>
  </div>
  <div class="header-wrapper">
    <div class="blog-title">
      
        <img class="logo" src="/images/logo.jpg" alt="logo">
      
      <a href="/" class="title">Ness</a>
    </div>
    <nav class="navbar navbar-menu">
      <div class="container-fluid">
        <div class="navbar-header">
          <button type="button" id="nav-btn" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
        </div>
      </div>
        <ul class="menu menu-pc">
          
            <li class="menu-item">
              <a href="/" class="menu-item-link"><i class="fa fa-home"></i><span>首页</span></a>
            </li>
          
            <li class="menu-item">
              <a href="/tags/" class="menu-item-link"><i class="fa fa-tags"></i><span>标签</span></a>
            </li>
          
            <li class="menu-item">
              <a href="/archives/" class="menu-item-link"><i class="fa fa-file"></i><span>归档</span></a>
            </li>
          
            <li class="menu-item">
              <a href="https://github.com/NessOffice" class="menu-item-link"><i class="fa fa-github"></i><span>GITHUB</span></a>
            </li>
          
        </ul>
    </nav>
  </div>
</header>
<div class="collapse nav-collapse" style="position:fixed;top:59px;" id="bs-example-navbar-collapse-1">
  <ul class="menu menu-mobile" style="list-style:none">
    
      <li class="menu-item">
        <a href="/" class="menu-item-link"><i class="fa fa-home"></i><span>首页</span></a>
      </li>
    
      <li class="menu-item">
        <a href="/tags/" class="menu-item-link"><i class="fa fa-tags"></i><span>标签</span></a>
      </li>
    
      <li class="menu-item">
        <a href="/archives/" class="menu-item-link"><i class="fa fa-file"></i><span>归档</span></a>
      </li>
    
      <li class="menu-item">
        <a href="https://github.com/NessOffice" class="menu-item-link"><i class="fa fa-github"></i><span>GITHUB</span></a>
      </li>
    
  </ul>
</div>

    <main class="main">
      <div class="content">
        
  <article class="post">
    <div class="post-title">
      <h2 class="title">【数学之美】离散数学及其应用：第九章 关系</h2>
	  <div style="margin: 0 10 20px;">
		<span class="post-count">
		  <span class="post-meta-item-icon">
			<i class="fa fa-keyboard-o"></i>
			<span class="post-meta-item-text">  字数统计: </span>
			<span class="post-count">2.8k字</span>
		  </span>
		</span>

		<span class="post-count">
		  &nbsp; | &nbsp;
		  <span class="post-meta-item-icon">
			<i class="fa fa-hourglass-half"></i>
			<span class="post-meta-item-text">  阅读时长: </span>
			<span class="post-count">10分</span>
		  </span>
		</span>
	  </div>
       
        <p>课程笔记</p>
      
        <p>数学_集合论</p>
      
    </div>
     <div class="post-meta">
      <span class="post-time">2019-06-22</span>
    </div>
    <div class="post-content">
      <h1 id="关系的概念"><a href="#关系的概念" class="headerlink" title="关系的概念"></a>关系的概念</h1><h2 id="关系的定义"><a href="#关系的定义" class="headerlink" title="关系的定义"></a>关系的定义</h2><p>什么是关系呢？关系是集合论里的词，它是用笛卡尔积给出的。我们先来看一个简单的例子，比如我们有六只猫，三公三母，有哪些可能的配偶方案呢？我们先把猫放到集合里，令 公猫集 = {Wang, Miao, Aichiyu}，母猫集 = {qwq，bwb，dwd}。这时候我们考虑笛卡尔积。{Wang, bwb}，这表明Wang和bwb存在关系（’Wang’ is related to ‘bwb’），更确切的说，存在二元关系。</p>
<p>笛卡尔积给出的是有序元素，所以关系也是有序的。“关系”这个词看着很别扭，因为自然语言中的“关系”不仅是“有关系”的意思。但要在数学上研究元素间的关系，我们就得把“关系”看作一个集合，由形如$A \times B$的式子给出的集合的子集，比如说，R = { {Wang, qwq}, {Wang, bwb}, {Miao, bwb} }。这就是一个“关系”（relation）了。</p>
<p>不必管R有什么意义，因为它的意义是我们赋予的。我们可以定义$(a, b) \in R \Rightarrow$ a不喜欢b，也可以做相反的定义，都可以。关系也不仅限于猫猫狗狗上，只要是元素，都可以用笛卡尔积给它们搞出个关系。这样“关系”就能很丰富了，比如满足不等式的两元素间的关系，函数原像与像的关系，等等。这里谈到的“关系”是我们由经验中的“关系”抽象而出的，仅表示两元素间存在“关系”，而并未指明这样的“关系”是什么“关系”。（真是绕）</p>
<h2 id="关系的性质"><a href="#关系的性质" class="headerlink" title="关系的性质"></a>关系的性质</h2><p>知道了R的定义，我们可以来考察它的性质了。根据实际研究的需要，我们主要考察R是否有以下四种性质：</p>
<p>1.reflexive。即$\forall a \in A, (a, a) \in R, R \subseteq A \times A$。观察$R = {(a, b) | a &lt; b, a, b \in N}$和$R = {(a, b) | a \leq b, a, b \in N}$的区别很容易理解这条性质。</p>
<p>2.symmetric。即$\forall a, b,  (a, b) \in R \rightarrow (b, a) \in R$。</p>
<p>3.antisymmetric。即$\forall a, b,  (a, b) \in R \wedge (b, a) \in R \Rightarrow a = b$。（在猫猫匹配的例子中，如果R是antisymmetric的话那可真是悲哀）</p>
<p>4.transitive。即$\forall a, b, c, (a, b) \in R \wedge (b, c) \in R \rightarrow (a, c) \in R$。</p>
<p>transitive的画风看起来和上面那些很不一样，我们之后再来考虑它。（这一节中有一些叫你判断R是否transitive的例题，方法的话枚举中间元素较为方便）</p>
<p>需要注意，antisymmetric和symmetric并不是互斥的，它们研究问题的方向可以说完全不同。“关系”中还有其他和对称性沾边的性质，比如asymmetric，它和antisymmetric其实很像，只是限制了$\forall a, (a, a) \not \in R$（对了，这条性质就是irreflexive）。要确定这些研究方向各不相同而有所交集的性质间的关系并非那么容易的，不过，这是一个值得研究的问题吗？</p>
<p>这一节中还会有一些组和问题，比如，给定$|A| = n$，问antisymmetric的R有多少个。这类题在理解了R的定义之后非常好做。上面例子的答案为$2^n \cdot 3^{n \cdot (n-1)}$。捆绑的思想。</p>
<h2 id="关系间的运算"><a href="#关系间的运算" class="headerlink" title="关系间的运算"></a>关系间的运算</h2><p>既然关系是一个集合，我们可以利用集合中的运算研究关系和关系间有什么关系。在这里，$\cup, \cap, \oplus, -$都可以直接继承集合中的运算。</p>
<p>然后因为关系是多元组，它还有自己独特的计算：$\circ$。如果把关系表示为矩阵的话，那么这一项便可以类比矩阵乘法。具体写来，是这样的：$R \subseteq A \times B, S \subseteq B \times C, (a, b) \in R \wedge (b, c) \in S \rightarrow (a, c) \in S \circ R$。（这个符号真反人类……明明运算和$R \times S$很像，但硬是要反过来写，不懂）</p>
<p>还有需要注意的是，$R^{-1}$不是使得$R \circ R^{-1} = E$成立的集合，它更像是$R^T$，这些记号需要注意。</p>
<p>然后定义了这个”乘法“(composite)之后，我们就可以来关注transitive这条性质了。比如有一条定理，讲的是R满足transitive和$R^n \subseteq R$这一条等价。证明的话，右边推左边按性质就好了，左推右数归就好。至于这条定理有何意义？（至少我不清楚）</p>
<h1 id="n元关系-待补充"><a href="#n元关系-待补充" class="headerlink" title="n元关系[待补充]"></a>n元关系[待补充]</h1><p>上面讲的关系都是二元关系，形如$A \times B$。类似的，我们可以定义n元关系。</p>
<p>对n元关系我们就不考察它的性质了，反正它还是元素笛卡尔积得到的集合，研究n元的情形没什么必要。</p>
<p>需要考察的是它的应用：比如数据库中，一个条目，比如说学生，包含了很多子数据：姓名、学号、GPA……那么我们可以把姓名×学号×GPA×…得到的元素视作一段关系的元素，也就是数据库中的项。这样一来，一个数据库就对应一种关系。我们要进行各式各样的数据库操作：添加，删除，排序……这些该如何定义呢？</p>
<p>（关注select和projection的分别。）</p>
<h1 id="关系的表示"><a href="#关系的表示" class="headerlink" title="关系的表示"></a>关系的表示</h1><p>前面我们都是抽象地”感受“关系的，这样想问题或许不容易理解。我们试着将其化归到已经学过的可爱的数学元素上，好让它更直观一些。</p>
<h2 id="邻接矩阵"><a href="#邻接矩阵" class="headerlink" title="邻接矩阵"></a>邻接矩阵</h2><p>简单地在关系和0-1矩阵上做个一一映射，就能用矩阵来表示关系啦。</p>
<p>用矩阵来表示关系可以让reflexive, symmetric, antisymmetric的判断变得很简单，但是判断transitive还是一如既往的麻烦。</p>
<p>用矩阵表示也让composite（乘法）更容易算了（注意0-1矩阵乘法的规则）。这在之后研究transitive上是好的。</p>
<h2 id="邻接表"><a href="#邻接表" class="headerlink" title="邻接表"></a>邻接表</h2><p>矩阵规模好大，但又好稀疏，用矩阵表示要写好多0，好烦，怎么破？用邻接表呗。（前向星，多好的名字啊）</p>
<h2 id="有向图"><a href="#有向图" class="headerlink" title="有向图"></a>有向图</h2><p>随便找道例题体会一下即可，这种表示法更为直观。</p>
<h1 id="闭包"><a href="#闭包" class="headerlink" title="闭包"></a>闭包</h1><h2 id="闭包的概念"><a href="#闭包的概念" class="headerlink" title="闭包的概念"></a>闭包的概念</h2><p>我们觉得满足性质的关系是好的，比较漂亮。不满足性质的关系就没那么漂亮。那么，怎么把不漂亮的关系补成漂亮的关系呢？（为什么一定要补呢？置$R = \varnothing$多方便啊？）称补出来的为闭包（很显然，笔者的定义是不严谨的，但很直观）。</p>
<p>reflexive, symmetric都很好补，而antisymmetric补不出来。看上去要研究的只剩transitive了。</p>
<p>可这并不容易，需要先定义一些其他的概念。</p>
<h2 id="传递闭包"><a href="#传递闭包" class="headerlink" title="传递闭包"></a>传递闭包</h2><p>我们先来回顾一下何谓传递性，不用关系中的术语，而是以图论的角度来思考。一个有向图，它有点和边，于是可以得到从一点a出发的”可到达的“点的集合（设其中任意一点为b），也得到了它要到那些点的路径及路径长度。而传递性，表明从a到任意的的b最短距离为2，也就是能直连通。</p>
<p>但是目前的图不一定使得连通的两点能够直连通啊，所以要补边（边和关系中的元素一一对应），也就是考虑构造传递闭包。</p>
<p>上面是较直观的感受，用数学语言该如何转译呢？a可达b，即$\exists k, (a, b) \in R^k$。于是这个(a, b)需要添加到闭包中。yy一下，我们得到了一种获得传递闭包的方式：$R^* = \bigcup\limits_{k = 1}^{\infty} R^k$。</p>
<p>然后如果路径太长，长过顶点数，这其中肯定是有环的，可以把环剪掉。所以$R^* = \bigcup\limits_{k = 1}^{n} R^k$。</p>
<p>这个算法的复杂度是$O(n^4)$，还不错？不过要算好多乘法好累，有没有稍微简单一点的算法呢？有的，Warshall’s Algorithm。</p>
<p>Warshall算法的思路是这样的：如果有长度超过2的路径，那么这条路径必然要经过中间的节点，于是可以通过枚举中间节点来构造传递闭包。（想到Floyd算法了吗？恰好，Floyd算法的全称正是Floyd-Warshall算法）yy一下，对着书上的例题手工模拟一番，便能学会这个算法了。（正确性证明考虑数归）</p>
<h1 id="等价关系"><a href="#等价关系" class="headerlink" title="等价关系"></a>等价关系</h1><p>什么是等价关系呢？我们来看看具体的例子吧：比如$\equiv$，它就是一个等价关系，$1 \equiv 5(mod 4)$。其中1和5本身并不相等，但是在mod 4这个条件下，它们是等价的，是可互换的。故，等价关系，指在给定的条件下，元素满足同样的性质。</p>
<p>等价关系要满足什么性质呢？其实这是我们自己归纳出来的。比如说$\equiv$，它reflexive，symmetric，transitive。然后满足这三点的关系，那么，我们就下个定义：满足reflexive，symmetric，transitive的关系就叫等价关系。（这一定义并非先验的，为什么等价和这三个性质有联系可能不好理解，但为什么要尝试理解它呢？）</p>
<p>满足等价关系的元素可以归到一类里，称等价类。同余等价类就是很好的例子。</p>
<p>定义了等价类，我们可以选取等价类中的一个元素，比如说a，来表示这个类，记作[a]。于是乎可以得到三种等价的表述：$a R b \Leftrightarrow [a] = [b] \Leftrightarrow [a] \cap [b] \not = \varnothing$。</p>
<p>由等价类间的互不交，可由等价类在原集合上做划分（partition）。</p>
<p>然后对于计数问题，如问有多少种等价关系这样的问题，可以考虑等价类的数目来做。</p>
<h1 id="偏序关系"><a href="#偏序关系" class="headerlink" title="偏序关系"></a>偏序关系</h1><p>这节讲的是偏序关系。偏序，偏序，顾名思义，和两个要素息息相关，其一为“偏”，其二为“序”，“偏”又是建立在“序”的基础上的，指的是并非所有元素间均可比较。与偏序关系对应的是全序关系。无论是偏序还是全序，它们都得要能排序，也就是能比较才行。什么样的关系是可排序的呢？</p>
<p>$\leq, |, \subseteq$，这些看似不同的运算都有着相似的特点：reflexive, antisymmetric, transitive。我们看到这样的关系是可比的。于是，我们用$\preccurlyeq$表示这样的偏序关系，也就是满足以上三条性质的关系。经历了等价关系的洗礼，读者应当能够接受这种表达。</p>
<p>定义了偏序关系，我们接着来定义一种常用的排序方式：字典序。//待补充</p>
<p>Hasse图：用以直观表示偏序关系的图//待补充</p>
<p>maximum, minimal, greatest, least, (greatest) lower bound(GLB), (least) upper bound(LUB)//待补充</p>
<p>lattice(a partially ordered set in which every pair of elements has both a least upper bound and a greatest lower bound)</p>
<p>topological sorting</p>
    </div>
  </article>
  <div class="post-nav">
    <div class="post-nav-next post-nav-item">
      
        <a href="/2019/06/22/Discrete_Mathematics-CH08/" rel="next" title="【数学之美】离散数学及其应用：第八章 计数进阶">
          <i class="fa fa-chevron-left"></i> 【数学之美】离散数学及其应用：第八章 计数进阶
        </a>
      
    </div>

    <span class="post-nav-divider"></span>

    <div class="post-nav-prev post-nav-item">
    
        <a href="/2019/06/22/Discrete_Mathematics-CH10/" rel="prev" title="【数学之美】离散数学及其应用：第十章 图论基础">
          【数学之美】离散数学及其应用：第十章 图论基础 <i class="fa fa-chevron-right"></i>
        </a>
      
    </div>
  </div>



      </div>
        <div class="footer">
  <div class="footer-wrapper">
    <div class="copyright">
      
      <span>&copy;</span>
      
      <span>2019</span>
      
      <span class="author"><i class="fa fa-user"></i>Ness</span>
    </div>
    
      <span>由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</span>
    
    
      <span>|</span> <span>主题 - <a href="https://github.com/littleee/corazon">Corazon</a></span>
      
        <span>v1.0.0</span>
      
    
  </div>
</div>

    </main>
  <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [ ["$","$"], ["\\(","\\)"] ],
            skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'],
            processEscapes: true
        }
    });
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax();
        for (var i = 0; i < all.length; ++i)
            all[i].SourceElement().parentNode.className += ' has-jax';
    });
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML"></script><!-- hexo-inject:begin --><!-- hexo-inject:end -->
</body>
</html>
